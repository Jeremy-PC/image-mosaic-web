<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= htmlWebpackPlugin.options.title %></title>
  </head>
  <style type="text/css">
    body {
      background-color: black;
    }
    canvas {
      background-color: white;
    }
  </style>
  <body>
    <noscript>You need to enable JavaScript to run this web.</noscript>
    <canvas id="vanvas"></canvas>
    <button id="revoked">撤销</button>
    <button id="save">保存</button>
    <button id="update">更新</button>
  </body>
  <script type="text/javascript" src="index.js"></script>
  <script type="text/javascript">
    const el = document.getElementById("vanvas");
    const mo = new mosaic({
      el,
      url: "./assets/timg.jpeg",
    });
    mo.init();
    const revoked = document.getElementById("revoked");
    const save = document.getElementById("save");
    const update = document.getElementById("update");
    revoked.onclick = function () {
      mo.onRevoked();
    };
    save.onclick = function () {
      const { file, img } = mo.onSave();
      console.log(img);
      console.log(file);
      const body = document.body;
      const image = document.createElement("img");
      image.src = img;
      image.style = { width: "100%", height: "100%" };
      body.appendChild(image);
    };
    update.onclick = function () {
      mo.update("./assets/update.jpeg");
    };
  </script>
</html>
